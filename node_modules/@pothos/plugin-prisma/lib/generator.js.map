{"version":3,"sources":["../src/generator.ts"],"names":["MIN_TS_VERSION","checkTSVersion","versionParts","version","split","i","part","Number","parseInt","Error","join","defaultOutput","resolvePath","__dirname","generatorHandler","onManifest","prettyName","requiresGenerators","onGenerate","options","config","generator","prismaLocation","clientOutput","otherGenerators","find","gen","provider","value","output","outputLocation","prismaTypes","buildTypes","dmmf","generateOutput","replace","importStatement","ts","factory","createImportDeclaration","createImportClause","undefined","createNamedImports","createImportSpecifier","createIdentifier","datamodel","models","map","model","name","createStringLiteral","printer","createPrinter","sourcefile","createSourceFile","ScriptTarget","ESNext","ScriptKind","TS","nodes","createNodeArray","result","printList","ListFormat","SourceFileStatements","Promise","resolve","reject","mkdir","dirname","fileName","recursive","err","writeFile","getOrderByTypeName","type","possibleTypes","orderBy","schema","inputObjectTypes","prisma","inputType","includes","modelTypes","relations","fields","filter","field","relationName","listRelations","isList","createPropertySignature","createTypeLiteralNode","createLiteralTypeNode","createTypeReferenceNode","length","createUnionTypeNode","typeName","createArrayTypeNode","isRequired","createNull","createIndexedAccessTypeNode","createInterfaceDeclaration","createModifier","SyntaxKind","ExportKeyword","DefaultKeyword"],"mappings":"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"}