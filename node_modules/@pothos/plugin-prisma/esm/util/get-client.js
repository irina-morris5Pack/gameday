/* eslint-disable no-underscore-dangle */ import { createContextCache } from '@pothos/core';
const prismaClientCache = createContextCache((builder) => createContextCache((context) => typeof builder.options.prisma.client === "function" ? builder.options.prisma.client(context) : builder.options.prisma.client));
export function getClient(builder, context) {
    if (typeof builder.options.prisma.client === "function") {
        return prismaClientCache(builder)(context);
    }
    return builder.options.prisma.client;
}
export function getDMMF(builder) {
    if ("dmmf" in builder.options.prisma && builder.options.prisma.dmmf) {
        return builder.options.prisma.dmmf;
    }
    const client = builder.options.prisma.client;
    var _client__baseDmmf;
    return (_client__baseDmmf = client._baseDmmf) !== null && _client__baseDmmf !== void 0 ? _client__baseDmmf : client._dmmf;
}
//# sourceMappingURL=get-client.js.map
