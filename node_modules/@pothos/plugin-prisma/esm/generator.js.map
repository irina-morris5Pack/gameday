{"version":3,"sources":["../src/generator.ts"],"names":["mkdir","writeFile","dirname","join","resolve","resolvePath","ts","ListFormat","ScriptKind","ScriptTarget","SyntaxKind","version","generatorHandler","MIN_TS_VERSION","checkTSVersion","versionParts","split","i","part","Number","parseInt","Error","defaultOutput","__dirname","onManifest","prettyName","requiresGenerators","onGenerate","options","config","generator","prismaLocation","clientOutput","otherGenerators","find","gen","provider","value","output","outputLocation","prismaTypes","buildTypes","dmmf","generateOutput","replace","importStatement","factory","createImportDeclaration","createImportClause","undefined","createNamedImports","createImportSpecifier","createIdentifier","datamodel","models","map","model","name","createStringLiteral","printer","createPrinter","sourcefile","createSourceFile","ESNext","TS","nodes","createNodeArray","result","printList","SourceFileStatements","Promise","reject","fileName","recursive","err","getOrderByTypeName","type","possibleTypes","orderBy","schema","inputObjectTypes","prisma","inputType","includes","modelTypes","relations","fields","filter","field","relationName","listRelations","isList","createPropertySignature","createTypeLiteralNode","createLiteralTypeNode","createTypeReferenceNode","length","createUnionTypeNode","typeName","createArrayTypeNode","isRequired","createNull","createIndexedAccessTypeNode","createInterfaceDeclaration","createModifier","ExportKeyword","DefaultKeyword"],"mappings":"AAAA,wCAAwC,GACxC,0CAA0C,GAC1C,mCAAmC,GACnC,oCAAoC,GACpC,SAASA,KAAK,EAAEC,SAAS,QAAQ,KAAK;AACtC,SAASC,OAAO,EAAEC,IAAI,EAAEC,WAAWC,WAAW,QAAQ,OAAO;AAC7D,OAAOC,MAAMC,UAAU,EAAEC,UAAU,EAAEC,YAAY,EAAEC,UAAU,EAAEC,OAAO,QAAQ,aAAa;AAC3F,SAAeC,gBAAgB,QAAQ,2BAA2B;AAElE,MAAMC,iBAAiB;IAAC;IAAG;IAAG;CAAE;AAEhC,SAASC,iBAAiB;IACxB,MAAMC,eAAeJ,QAAQK,KAAK,CAAC;IAEnC,IAAK,IAAIC,IAAI,GAAGA,IAAI,GAAGA,KAAK,EAAG;QAC7B,MAAMC,OAAOC,OAAOC,QAAQ,CAACL,YAAY,CAACE,EAAE,EAAE;QAC9C,IAAIC,OAAOL,cAAc,CAACI,EAAE,EAAE;YAC5B,MAAM,IAAII,MACR,CAAC,mDAAmD,EAAER,eAAeV,IAAI,CAAC,KAAK,CAAC,EAChF;QACJ,CAAC;QAED,IAAIe,OAAOL,cAAc,CAACI,EAAE,EAAE;YAC5B;QACF,CAAC;IACH;AACF;AAEA,MAAMK,gBAAgBjB,YAAYkB,WAAW;AAE7CX,iBAAiB;IACfY,YAAY,IAAO,CAAA;YACjBC,YAAY;YACZC,oBAAoB;gBAAC;aAAmB;YACxCJ;QACF,CAAA;IACAK,YAAY,OAAOC,UAAY;YAQNA;QAPvBd;QACA,MAAMe,SAASD,QAAQE,SAAS,CAACD,MAAM;YAErCA;QADF,MAAME,iBACJF,CAAAA,uBAAAA,OAAOG,YAAY,cAAnBH,kCAAAA,uBACAD,QAAQK,eAAe,CAACC,IAAI,CAAC,CAACC,MAAQA,IAAIC,QAAQ,CAACC,KAAK,KAAK,oBAAqBC,MAAM,CACrFD,KAAK;YAEaT;QAAvB,MAAMW,iBAAiBX,CAAAA,kCAAAA,CAAAA,4BAAAA,QAAQE,SAAS,CAACQ,MAAM,cAAxBV,uCAAAA,KAAAA,IAAAA,0BAA0BS,KAAK,cAA/BT,6CAAAA,kCAAmCN,aAAa;QACvE,MAAMkB,cAAcC,WAAWb,QAAQc,IAAI;QAE3C,MAAMC,eAAef,QAAQc,IAAI,EAAEF,aAAaT,gBAAgBQ;QAEhE,IAAIA,mBAAmBjB,eAAe;YACpC,MAAMqB,eACJf,QAAQc,IAAI,EACZF,aACArC,KAAK4B,eAAea,OAAO,CAAC,OAAO,WAAW,aAC9CL,eAAeK,OAAO,CAAC,iBAAiB;QAE5C,CAAC;IACH;AACF;AAEA,eAAeD,eACbD,IAAmB,EACnBF,WAAoC,EACpCT,cAAsB,EACtBQ,cAAsB,EACtB;IACA,MAAMM,kBAAkBvC,GAAGwC,OAAO,CAACC,uBAAuB,CACxD,EAAE,EACF,EAAE,EACFzC,GAAGwC,OAAO,CAACE,kBAAkB,CAC3B,IAAI,EACJC,WACA3C,GAAGwC,OAAO,CAACI,kBAAkB,CAAC;QAC5B5C,GAAGwC,OAAO,CAACK,qBAAqB,CAAC,KAAK,EAAEF,WAAW3C,GAAGwC,OAAO,CAACM,gBAAgB,CAAC;WAC5EV,KAAKW,SAAS,CAACC,MAAM,CAACC,GAAG,CAAC,CAACC,QAC5BlD,GAAGwC,OAAO,CAACK,qBAAqB,CAC9B,KAAK,EACLF,WACA3C,GAAGwC,OAAO,CAACM,gBAAgB,CAACI,MAAMC,IAAI;KAG3C,IAEHnD,GAAGwC,OAAO,CAACY,mBAAmB,CAAC3B;IAGjC,MAAM4B,UAAUrD,GAAGsD,aAAa,CAAC,CAAC;IAElC,MAAMC,aAAavD,GAAGwD,gBAAgB,CACpCvB,gBACA,IACA9B,aAAasD,MAAM,EACnB,KAAK,EACLvD,WAAWwD,EAAE;IAGf,MAAMC,QAAQ3D,GAAGwC,OAAO,CAACoB,eAAe,CAAC;QAACrB;QAAiBL;KAAY;IAEvE,MAAM2B,SAASR,QAAQS,SAAS,CAAC7D,WAAW8D,oBAAoB,EAAEJ,OAAOJ;IAEzE,MAAM,IAAIS,QAAc,CAAClE,SAASmE,SAAW;QAC3CvE,MAAME,QAAQ2D,WAAWW,QAAQ,GAAG;YAAEC,WAAW,IAAI;QAAC,GAAG,CAACC,MAAQ;YAChE,IAAIA,KAAK;gBACPH,OAAOG;YACT,OAAO;gBACLtE;YACF,CAAC;QACH;IACF;IAEA,OAAO,IAAIkE,QAAc,CAAClE,SAASmE,SAAW;QAC5CtE,UAAU4D,WAAWW,QAAQ,EAAE,CAAC,sBAAsB,EAAEL,OAAO,CAAC,EAAE,CAACO,MAAQ;YACzE,IAAIA,KAAK;gBACPH,OAAOG;YACT,OAAO;gBACLtE;YACF,CAAC;QACH;IACF;AACF;AAEA,SAASqC,WAAWC,IAAmB,EAAE;IACvC,SAASiC,mBAAmBC,IAAY,EAAE;YAMxBlC;QALhB,MAAMmC,gBAAgB;YACpB,CAAC,EAAED,KAAK,wBAAwB,CAAC;YACjC,CAAC,EAAEA,KAAK,0CAA0C,CAAC;SACpD;QAED,MAAME,UAAUpC,CAAAA,uCAAAA,KAAKqC,MAAM,CAACC,gBAAgB,CAACC,MAAM,cAAnCvC,kDAAAA,KAAAA,IAAAA,qCAAqCR,KAAK,CAACgD,YACzDL,cAAcM,QAAQ,CAACD,UAAUzB,IAAI;QAGvC,IAAI,CAACqB,SAAS;YACZ,OAAOD,aAAa,CAAC,EAAE;QACzB,CAAC;QAED,OAAOC,QAAQrB,IAAI;IACrB;IAEA,MAAM2B,aAAa1C,KAAKW,SAAS,CAACC,MAAM,CAACC,GAAG,CAAC,CAACC,QAAU;QACtD,MAAM6B,YAAY7B,MAAM8B,MAAM,CAACC,MAAM,CAAC,CAACC,QAAU,CAAC,CAACA,MAAMC,YAAY;QACrE,MAAMC,gBAAgBlC,MAAM8B,MAAM,CAACC,MAAM,CAAC,CAACC,QAAU,CAAC,CAACA,MAAMC,YAAY,IAAID,MAAMG,MAAM;QAEzF,OAAOrF,GAAGwC,OAAO,CAAC8C,uBAAuB,CACvC,EAAE,EACFpC,MAAMC,IAAI,EACVR,WAEA3C,GAAGwC,OAAO,CAAC+C,qBAAqB,CAAC;YAC/BvF,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,QACA3C,WACA3C,GAAGwC,OAAO,CAACgD,qBAAqB,CAACxF,GAAGwC,OAAO,CAACY,mBAAmB,CAACF,MAAMC,IAAI;YAE5EnD,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,SACA3C,WACA3C,GAAGwC,OAAO,CAACiD,uBAAuB,CAACvC,MAAMC,IAAI;YAE/CnD,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,WACA3C,WACAoC,UAAUW,MAAM,GAAG,IACf1F,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,CAAC,OAAO,EAAEvC,MAAMC,IAAI,CAAC,OAAO,CAAC,IAChEnD,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,QAAQ;YAEjDzF,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,UACA3C,WACA3C,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,CAAC,OAAO,EAAEvC,MAAMC,IAAI,CAAC,MAAM,CAAC;YAEjEnD,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,WACA3C,WACA3C,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,CAAC,OAAO,EAAEpB,mBAAmBnB,MAAMC,IAAI,EAAE,CAAC;YAE/EnD,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,eACA3C,WACA3C,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,CAAC,OAAO,EAAEvC,MAAMC,IAAI,CAAC,gBAAgB,CAAC;YAE3EnD,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,SACA3C,WACA3C,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,CAAC,OAAO,EAAEvC,MAAMC,IAAI,CAAC,UAAU,CAAC;YAErEnD,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,gBACA3C,WACAoC,UAAUW,MAAM,GAAG,IACf1F,GAAGwC,OAAO,CAACmD,mBAAmB,CAC5BZ,UAAU9B,GAAG,CAAC,CAACiC,QACblF,GAAGwC,OAAO,CAACgD,qBAAqB,CAACxF,GAAGwC,OAAO,CAACY,mBAAmB,CAAC8B,MAAM/B,IAAI,OAG9EnD,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,QAAQ;YAEjDzF,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,iBACA3C,WACAyC,cAAcM,MAAM,GAAG,IACnB1F,GAAGwC,OAAO,CAACmD,mBAAmB,CAC5BP,cAAcnC,GAAG,CAAC,CAACiC,QACjBlF,GAAGwC,OAAO,CAACgD,qBAAqB,CAACxF,GAAGwC,OAAO,CAACY,mBAAmB,CAAC8B,MAAM/B,IAAI,OAG9EnD,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,QAAQ;YAEjDzF,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,aACA3C,WACA3C,GAAGwC,OAAO,CAAC+C,qBAAqB,CAC9BR,UAAU9B,GAAG,CAAC,CAACiC,QAAU;gBACvB,MAAMU,WAAWV,MAAMZ,IAAI;gBAE3B,OAAOtE,GAAGwC,OAAO,CAAC8C,uBAAuB,CACvC,EAAE,EACFJ,MAAM/B,IAAI,EACVR,WACA3C,GAAGwC,OAAO,CAAC+C,qBAAqB,CAAC;oBAC/BvF,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,SACA3C,WACAuC,MAAMG,MAAM,GACRrF,GAAGwC,OAAO,CAACqD,mBAAmB,CAAC7F,GAAGwC,OAAO,CAACiD,uBAAuB,CAACG,aAClEV,MAAMY,UAAU,GAChB9F,GAAGwC,OAAO,CAACiD,uBAAuB,CAACG,YACnC5F,GAAGwC,OAAO,CAACmD,mBAAmB,CAAC;wBAC7B3F,GAAGwC,OAAO,CAACiD,uBAAuB,CAACG;wBACnC5F,GAAGwC,OAAO,CAACgD,qBAAqB,CAACxF,GAAGwC,OAAO,CAACuD,UAAU;qBACvD,CAAC;oBAER/F,GAAGwC,OAAO,CAAC8C,uBAAuB,CAChC,EAAE,EACF,SACA3C,WACA3C,GAAGwC,OAAO,CAACwD,2BAA2B,CACpChG,GAAGwC,OAAO,CAACiD,uBAAuB,CAAC,gBACnCzF,GAAGwC,OAAO,CAACgD,qBAAqB,CAACxF,GAAGwC,OAAO,CAACY,mBAAmB,CAACwC;iBAGrE;YAEL;SAGL;IAEL;IAEA,OAAO5F,GAAGwC,OAAO,CAACyD,0BAA0B,CAC1C,EAAE,EACF;QACEjG,GAAGwC,OAAO,CAAC0D,cAAc,CAAC9F,WAAW+F,aAAa;QAClDnG,GAAGwC,OAAO,CAAC0D,cAAc,CAAC9F,WAAWgG,cAAc;KACpD,EACD,eACA,EAAE,EACF,EAAE,EACFtB;AAEJ"}